# 네트워크 토폴로지

## 개요
네트워크 토폴로지는 네트워크 구성 요소들이 물리적 또는 논리적으로 어떻게 연결되어 있는지를 나타내는 구조입니다. [[이더넷 기초]]와 [[라우팅 기초]]를 기반으로 하여 효율적이고 안정적인 네트워크를 설계하는 기초가 됩니다.

## 토폴로지 분류

### 물리적 토폴로지 (Physical Topology)
```
정의: 네트워크 장비와 케이블의 실제 물리적 배치
특징:
- 실제 케이블 연결 방식
- 장비의 물리적 위치
- 케이블의 경로와 길이
- 설치 비용과 직접 관련
```

### 논리적 토폴로지 (Logical Topology)
```
정의: 데이터가 네트워크에서 어떻게 흐르는지를 나타내는 구조
특징:
- 데이터 흐름 경로
- 프로토콜 동작 방식
- 액세스 방법
- 물리적 구조와 다를 수 있음
```

## 기본 토폴로지 유형

### Bus 토폴로지
```
구조:
[Device1]---|
[Device2]---|---[Bus/Backbone]---[Device4]
[Device3]---|

특징:
- 모든 장비가 하나의 공통 케이블에 연결
- 양방향 데이터 전송
- 터미네이터로 신호 반사 방지

장점:
✅ 케이블 사용량 최소
✅ 설치 비용 저렴
✅ 장비 추가 용이
✅ 중앙 제어 장비 불필요

단점:
❌ 메인 케이블 장애 시 전체 네트워크 마비
❌ 충돌 발생 가능
❌ 케이블 길이 제한
❌ 문제 진단 어려움
❌ 보안 취약

사용 예:
- 초기 이더넷 (10BASE2, 10BASE5)
- 작은 규모 네트워크
```

### Star 토폴로지
```
구조:
     [Device1]
         |
[Device4]---[Hub/Switch]---[Device2]
         |
     [Device3]

특징:
- 중앙 집중식 구조
- 모든 장비가 중앙 장비에 연결
- 포인트-투-포인트 연결

장점:
✅ 장애 격리 용이 (한 포트 문제가 전체에 영향 주지 않음)
✅ 관리 및 문제해결 용이
✅ 확장성 우수
✅ 보안 강화 가능
✅ 고성능 (스위치 사용 시)

단점:
❌ 중앙 장비 의존성 (SPOF - Single Point of Failure)
❌ 케이블 사용량 많음
❌ 중앙 장비 비용
❌ 케이블 길이 제한

사용 예:
- 현대 이더넷 네트워크
- 대부분의 LAN 환경
```

### Ring 토폴로지
```
구조:
[Device1]---[Device2]
    |           |
[Device4]---[Device3]

특징:
- 원형 구조로 연결
- 데이터가 한 방향으로 순환
- 토큰 기반 액세스 제어

장점:
✅ 충돌 없음 (토큰 방식)
✅ 공평한 액세스
✅ 예측 가능한 성능
✅ 긴 거리 전송 가능

단점:
❌ 한 장비 장애 시 전체 영향
❌ 토큰 분실 시 문제
❌ 재구성 시간 오래 걸림
❌ 확장 어려움

사용 예:
- Token Ring (IEEE 802.5)
- FDDI (Fiber Distributed Data Interface)
```

### Mesh 토폴로지
```
구조 (Full Mesh):
[A]---[B]
|  \ / |
|   X  |
|  / \ |
[D]---[C]

특징:
- 모든 노드가 서로 직접 연결 (Full Mesh)
- 일부 노드만 다중 연결 (Partial Mesh)
- 다중 경로 제공

장점:
✅ 높은 가용성 (다중 경로)
✅ 장애 복구 능력 우수
✅ 로드 분산 가능
✅ 보안성 높음

단점:
❌ 높은 비용 (케이블, 포트)
❌ 복잡한 관리
❌ 확장성 제한
❌ 라우팅 복잡성

계산:
Full Mesh 연결 수 = n(n-1)/2
예: 5개 노드 = 5×4/2 = 10개 연결

사용 예:
- WAN 백본 네트워크
- 중요한 서버 간 연결
- 인터넷 백본
```

### Tree/Hierarchical 토폴로지
```
구조:
        [Root]
       /      \
   [Hub1]    [Hub2]
   /    \    /    \
[Dev1][Dev2][Dev3][Dev4]

특징:
- 계층적 구조
- 루트에서 가지로 확장
- Star 토폴로지의 확장

장점:
✅ 확장성 우수
✅ 계층적 관리
✅ 문제 격리 가능
✅ 구조화된 설계

단점:
❌ 상위 노드 의존성
❌ 루트 노드 장애 시 큰 영향
❌ 케이블 길이 제한

사용 예:
- 기업 네트워크 구조
- 인터넷 구조
- 대규모 LAN
```

### Hybrid 토폴로지
```
특징:
- 여러 토폴로지의 조합
- 실제 네트워크에서 가장 일반적
- 요구사항에 따라 최적화

예시:
- Star-Bus: 여러 Star 네트워크를 Bus로 연결
- Star-Ring: 각 Star의 중앙 장비를 Ring으로 연결
- Hierarchical: 다층 Star 구조

장점:
✅ 유연성 최대
✅ 비용 최적화
✅ 확장성과 성능 균형

단점:
❌ 설계 복잡성
❌ 관리 복잡성
```

## 현대 네트워크 설계 모델

### Three-Tier 모델
```
구조:
Core Layer (백본)
    ↕
Distribution Layer (집약)
    ↕
Access Layer (액세스)

Core Layer:
- 고속 패킷 포워딩
- 최소한의 정책
- 높은 가용성
- 레이어 3 스위칭

Distribution Layer:
- 정책 적용 (ACL, QoS)
- VLAN 라우팅
- 보안 정책
- 로드 밸런싱

Access Layer:
- 사용자/서버 연결
- 포트 보안
- VLAN 할당
- PoE 제공
```

### Two-Tier 모델 (Collapsed Core)
```
구조:
Core/Distribution Layer (통합)
    ↕
Access Layer

특징:
- 중소규모 네트워크 적합
- 비용 절약
- 관리 단순화
- 확장성 제한
```

### Spine-Leaf 토폴로지 (데이터센터)
```
구조:
[Spine1] [Spine2] [Spine3]
   |××|     |××|     |××|
[Leaf1] [Leaf2] [Leaf3] [Leaf4]

특징:
- 모든 Leaf가 모든 Spine에 연결
- 동일한 홉 수
- 수평 확장
- 높은 대역폭

장점:
✅ 예측 가능한 지연시간
✅ 높은 대역폭
✅ 수평 확장 용이
✅ 장애 복구 빠름

사용:
- 클라우드 데이터센터
- 대규모 서버 팜
```

## VLAN과 논리적 토폴로지

### VLAN 기반 분할
```
물리적 구조:
[Switch1]---[Switch2]---[Switch3]
    |           |           |
  Users       Users       Users

논리적 구조:
VLAN 10 (Sales): Switch1, Switch2의 일부 포트
VLAN 20 (Engineering): Switch2, Switch3의 일부 포트
VLAN 30 (Management): 모든 스위치의 관리 포트

효과:
- 브로드캐스트 도메인 분리
- 보안 강화
- 트래픽 관리
- 유연한 사용자 그룹화
```

### 트렁킹 토폴로지
```
구조:
[Access SW1]---(Trunk)---[Distribution SW]---(Trunk)---[Access SW2]
     |                                                        |
  VLAN 10                                                  VLAN 10
  VLAN 20                                                  VLAN 20

특징:
- 여러 VLAN을 하나의 링크로 전송
- 802.1Q 태깅 사용
- 효율적인 링크 활용
```

## 무선 네트워크 토폴로지

### 독립형 AP 구조
```
구조:
Internet---[Router]---[Switch]---[AP1]
                  |           |
                [AP2]       [AP3]

특징:
- 각 AP가 독립적으로 동작
- 개별 설정 및 관리
- 소규모 환경 적합
```

### 컨트롤러 기반 구조
```
구조:
Internet---[Router]---[Core Switch]---[WLC]
                           |
                      [Access SW]
                      /    |    \
                  [LAP1] [LAP2] [LAP3]

특징:
- 중앙 집중식 관리
- 일관된 정책 적용
- 원활한 로밍
- 확장성 우수
```

## WAN 토폴로지

### Hub-and-Spoke
```
구조:
    [Branch1]
        |
[Branch3]---[HQ]---[Branch2]
        |
    [Branch4]

특징:
- 중앙 집중식 구조
- 모든 트래픽이 HQ 경유
- 관리 단순화

장점:
✅ 관리 용이
✅ 보안 제어 중앙화
✅ 비용 효율적

단점:
❌ HQ 의존성
❌ 지사 간 직접 통신 불가
❌ 대역폭 병목
```

### Full Mesh WAN
```
구조:
[Site1]---[Site2]
   |    \ /    |
   |     X     |
   |    / \    |
[Site4]---[Site3]

특징:
- 모든 사이트 간 직접 연결
- 최적의 경로
- 높은 비용

사용:
- 중요한 사이트 간 연결
- 금융 기관
- 미션 크리티컬 애플리케이션
```

### Partial Mesh WAN
```
특징:
- 필요한 연결만 구성
- 비용과 성능의 균형
- 대부분의 기업 환경

설계 고려사항:
- 트래픽 패턴 분석
- 비용 대비 효과
- 백업 경로 계획
```

## 토폴로지 설계 원칙

### 확장성 (Scalability)
```
고려사항:
- 미래 성장 계획
- 포트 밀도
- 업링크 용량
- 모듈러 설계

설계 방법:
- 계층적 구조 채택
- 표준화된 모듈 사용
- 여유 용량 확보
- 업그레이드 경로 계획
```

### 가용성 (Availability)
```
설계 요소:
- 중복 경로 (Redundancy)
- 장애 복구 메커니즘
- 로드 밸런싱
- 백업 연결

목표:
- 99.99% 가용성 (연간 52분 다운타임)
- 빠른 장애 복구
- 서비스 연속성
```

### 성능 (Performance)
```
최적화 요소:
- 대역폭 계획
- 지연시간 최소화
- QoS 정책
- 트래픽 엔지니어링

측정 지표:
- 처리량 (Throughput)
- 지연시간 (Latency)
- 지터 (Jitter)
- 패킷 손실률
```

### 보안 (Security)
```
보안 고려사항:
- 네트워크 분할
- 액세스 제어
- 모니터링 포인트
- 보안 정책 적용

구현 방법:
- VLAN 분리
- 방화벽 배치
- IDS/IPS 위치
- AAA 서버 연동
```

### 관리성 (Manageability)
```
관리 요소:
- 표준화
- 문서화
- 모니터링
- 변경 관리

도구:
- 네트워크 관리 시스템
- 자동화 도구
- 문서화 시스템
- 변경 관리 프로세스
```

## 토폴로지 문서화

### 물리적 다이어그램
```
포함 내용:
- 장비 모델 및 위치
- 케이블 타입 및 길이
- 포트 번호
- IP 주소 정보
- 랙 및 패치패널 정보

도구:
- Visio
- Lucidchart
- Draw.io
- Cisco Packet Tracer
```

### 논리적 다이어그램
```
포함 내용:
- VLAN 구조
- 라우팅 프로토콜
- 서브넷 정보
- 보안 정책
- QoS 정책

레이어별 문서:
- Layer 2 (VLAN, STP)
- Layer 3 (라우팅, 서브넷)
- 보안 (ACL, 방화벽)
- 애플리케이션 (서비스)
```

### IP 주소 계획
```
할당 체계:
- 계층별 주소 블록
- 사이트별 서브넷
- VLAN별 주소 범위
- 예약 주소 공간

예시:
10.0.0.0/8 (전체)
├── 10.1.0.0/16 (본사)
│   ├── 10.1.10.0/24 (VLAN 10 - Sales)
│   └── 10.1.20.0/24 (VLAN 20 - Engineering)
└── 10.2.0.0/16 (지사)
    └── 10.2.10.0/24 (지사 LAN)
```

## 토폴로지 최적화

### 성능 최적화
```
병목 지점 식별:
- 업링크 사용률
- CPU 사용률
- 메모리 사용률
- 큐 길이

해결 방법:
- 링크 업그레이드
- 로드 밸런싱
- QoS 적용
- 캐싱 사용
```

### 비용 최적화
```
비용 절감 방법:
- 적정 용량 산정
- 표준화
- 가상화 활용
- 클라우드 서비스

TCO 고려사항:
- 초기 구축 비용
- 운영 비용
- 유지보수 비용
- 업그레이드 비용
```

## 미래 토폴로지 트렌드

### 소프트웨어 정의 네트워킹 (SDN)
```
특징:
- 제어 평면과 데이터 평면 분리
- 중앙 집중식 제어
- 프로그래밍 가능한 네트워크
- 동적 토폴로지 변경

장점:
✅ 유연성 극대화
✅ 중앙 집중식 정책 관리
✅ 자동화 가능
✅ 혁신 가속화
```

### 인텐트 기반 네트워킹 (IBN)
```
개념:
- 비즈니스 의도를 네트워크 정책으로 변환
- 자동화된 구현
- 지속적인 검증
- 자가 치유 네트워크

구현:
- 정책 정의
- 자동 배포
- 모니터링
- 자동 수정
```

### 클라우드 네이티브 아키텍처
```
특징:
- 마이크로서비스 아키텍처
- 컨테이너 네트워킹
- 서비스 메시
- 멀티 클라우드 연결

네트워킹:
- Container Network Interface (CNI)
- Service Mesh (Istio, Linkerd)
- API Gateway
- Load Balancer as a Service
```

## 관련 주제
- [[VLAN 구성]] - 논리적 네트워크 분할
- [[STP]] - 루프 방지 토폴로지
- [[라우팅 기초]] - 라우팅 토폴로지
- [[무선 네트워킹]] - 무선 토폴로지

## 태그
#ccna #토폴로지 #네트워크설계 #네트워크구조 #아키텍처 #인프라
